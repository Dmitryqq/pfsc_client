(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3494dbe"],{"3a84":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"marks view"},[t.isLoading?e("Loader"):e("div",[t.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n            "+t._s(t.error)+"\n        ")]):t._e(),t.success?e("div",{staticClass:"alert alert-success"},[t._v("\n            "+t._s(t.success)+"\n        ")]):t._e(),e("table",{staticClass:"table table-sm mx-auto"},[e("thead",[e("tr",[e("th",[t._v("№")]),e("th",[t._v("Имя")]),e("th")])]),t._l(t.marks,function(s){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.id))]),e("td",[t._v(t._s(s.name))]),e("td",[e("span",{staticClass:"icon-btn",staticStyle:{float:"left"}},[e("i",{staticClass:"fas fa-trash",staticStyle:{"margin-left":"20px"},on:{click:function(e){return t.deleteMark(s)}}})])])])}),e("tr",[e("td"),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mark.name,expression:"mark.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",required:""},domProps:{value:t.mark.name},on:{input:function(s){s.target.composing||t.$set(t.mark,"name",s.target.value)}}})]),e("td",[e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"},on:{click:t.addMark}},[t._v("Добавить")])])])],2)])],1)},r=[],n=(e("7f7f"),e("555f")),i={components:{Loader:n["a"]},data:function(){return{mark:{name:""},isLoading:!1,success:null,deleteMode:!1,editMode:!1,error:null}},computed:{marks:function(){return this.$store.state.marks.marks}},created:function(){this.getMarks()},methods:{getMarks:function(){var t=this;this.isLoading=!0,this.$store.dispatch("marks/getMarks").catch(function(s){t.error=s.message}).finally(function(){t.isLoading=!1})},addMark:function(){var t=this;this.error=null,this.mark.name.length>0&&this.$store.dispatch("marks/addMark",this.mark).then(function(){t.showSuccess("Метка успешно добавлена"),t.clearForm()}).catch(function(s){t.error=s.message})},deleteMark:function(t){var s=this;confirm("Подтвердите удаление элемента '"+t.name+"'")&&this.$store.dispatch("marks/deleteMark",t.id).then(function(){s.error=null,s.showSuccess("Метка успешно удалена")}).catch(function(t){s.error=t.message})},clearForm:function(){this.mark.name="",this.mark.value="",this.mark.description=""},showSuccess:function(t){var s=this;this.success=t,setTimeout(function(){s.success=null},3e3)}}},c=i,o=(e("f490"),e("2877")),u=Object(o["a"])(c,a,r,!1,null,"088f2d11",null);s["default"]=u.exports},e381:function(t,s,e){},f490:function(t,s,e){"use strict";var a=e("e381"),r=e.n(a);r.a}}]);
//# sourceMappingURL=chunk-c3494dbe.13b6cf0c.js.map