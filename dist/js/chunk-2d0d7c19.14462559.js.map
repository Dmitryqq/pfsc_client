{"version":3,"sources":["webpack:///./src/views/Account.vue?b1f9","webpack:///src/views/Account.vue","webpack:///./src/views/Account.vue?71f2","webpack:///./src/views/Account.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","role","_v","_s","error","_e","success","directives","name","rawName","value","user","expression","type","disabled","domProps","on","input","$event","target","composing","$set","repeatedPassword","click","saveUser","staticRenderFns","Accountvue_type_script_lang_js_","components","Navbar","Loader","data","username","password","email","isLoading","computed","userId","$store","state","users","id","created","dispatch","getUser","methods","_this","then","res","catch","err","message","_this2","errors","checkFields","showSuccess","_this3","setTimeout","views_Accountvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0d7c19.14462559.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"account view\"},[_c('Navbar'),(_vm.isLoading)?_c('Loader'):_c('div',{staticClass:\"col-sm-6 col-md-4 mx-auto my-5\"},[(_vm.error)?_c('div',{staticClass:\"alert alert-danger\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.error)+\"\\n        \")]):_vm._e(),(_vm.success)?_c('div',{staticClass:\"alert alert-success\"},[_vm._v(\"\\n            \"+_vm._s(_vm.success)+\"\\n        \")]):_vm._e(),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(\"id:\")]),_c('div',{staticClass:\"col-sm-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.id),expression:\"user.id\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(_vm.user.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"id\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(\"Логин:\")]),_c('div',{staticClass:\"col-sm-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.username),expression:\"user.username\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.user.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"username\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(\"Пароль:\")]),_c('div',{staticClass:\"col-sm-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(\"Повторите пароль:\")]),_c('div',{staticClass:\"col-sm-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repeatedPassword),expression:\"repeatedPassword\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.repeatedPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.repeatedPassword=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(\"Имя:\")]),_c('div',{staticClass:\"col-sm-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name),expression:\"user.name\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(_vm.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"name\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(\"Email:\")]),_c('div',{staticClass:\"col-sm-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control form-control-sm\",attrs:{\"type\":\"email\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})])]),_c('div',{staticClass:\"text-center my-5\"},[_c('button',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){return _vm.saveUser(_vm.user)}}},[_vm._v(\"Сохранить\")])]),_c('p',{staticClass:\"text-center\"},[_vm._v(\"Если изменение пароля не требуется, то оставьте поле пустым\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n     <div class=\"account view\">\r\n        <Navbar />\r\n        <Loader v-if=\"isLoading\" />\r\n        <div v-else class=\"col-sm-6 col-md-4 mx-auto my-5\">\r\n            <div class=\"alert alert-danger\" role=\"alert\" v-if=\"error\">\r\n                {{error}}\r\n            </div>\r\n            <div class=\"alert alert-success\" v-if=\"success\">\r\n                {{success}}\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-sm-4 col-form-label\">id:</label>\r\n                <div class=\"col-sm-8\">\r\n                    <input class=\"form-control form-control-sm\" type=\"text\" v-model=\"user.id\" disabled>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-sm-4 col-form-label\">Логин:</label>\r\n                <div class=\"col-sm-8\">\r\n                    <input class=\"form-control form-control-sm\" type=\"text\" v-model=\"user.username\">\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-sm-4 col-form-label\">Пароль:</label>\r\n                <div class=\"col-sm-8\">\r\n                    <input class=\"form-control form-control-sm\" type=\"password\" v-model=\"user.password\">\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-sm-4 col-form-label\">Повторите пароль:</label>\r\n                <div class=\"col-sm-8\">\r\n                    <input class=\"form-control form-control-sm\" type=\"password\" v-model=\"repeatedPassword\">\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-sm-4 col-form-label\">Имя:</label>\r\n                <div class=\"col-sm-8\">\r\n                    <input class=\"form-control form-control-sm\" type=\"text\" v-model=\"user.name\" disabled>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-sm-4 col-form-label\">Email:</label>\r\n                <div class=\"col-sm-8\">\r\n                    <input class=\"form-control form-control-sm\" type=\"email\" v-model=\"user.email\">\r\n                </div>\r\n            </div>\r\n            <div class=\"text-center my-5\">\r\n                <button type=\"submit\" class=\"btn btn-sm btn-primary\" @click=\"saveUser(user)\">Сохранить</button>\r\n            </div>\r\n            <p class=\"text-center\">Если изменение пароля не требуется, то оставьте поле пустым</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from '@/components/Navbar.vue'\r\nimport Loader from '@/components/Loader.vue'\r\nexport default {\r\n    name: 'Account',\r\n    components: {\r\n        Navbar,\r\n        Loader\r\n    },\r\n    data: function(){\r\n        return {\r\n            user:{\r\n                username: '',\r\n                password: '',\r\n                name: '',\r\n                email: ''\r\n            },\r\n            repeatedPassword: '',\r\n            isLoading: false,\r\n            success: null,\r\n            error: null\r\n        }\r\n    },\r\n    computed:{\r\n        userId() {\r\n            return this.$store.state.users.user.id;\r\n        }\r\n    },\r\n    created(){\r\n        this.$store.dispatch('users/decodeUser');\r\n        this.getUser();\r\n    },\r\n    methods: {\r\n        getUser() {\r\n            this.isLoading = true;\r\n            this.$store.dispatch('users/getUser', this.userId)\r\n            .then((res)=>{\r\n                this.user = res;\r\n                this.user.password = ''\r\n                this.isLoading = false; \r\n            })\r\n            .catch(err=>{\r\n                this.isLoading = false; \r\n                this.error = err.message;\r\n            })       \r\n        },\r\n        saveUser(user){\r\n            this.errors = [];\r\n            this.success = '';\r\n            if(this.checkFields()==true){\r\n                if(this.user.password == this.repeatedPassword){\r\n                    this.$store.dispatch('users/updateUser', user)\r\n                    .then(()=>{\r\n                        this.error = '';\r\n                        this.showSuccess(\"Сохранено. Перезайдите, чтобы изменения вступили в силу.\")\r\n                    })\r\n                    .catch(err=>{\r\n                        this.error = err.message;\r\n                    })\r\n                }\r\n                else{\r\n                    this.error = \"Пароли не совпадают\";\r\n                }\r\n            }\r\n            else{\r\n                this.error = \"Заполните пустые поля\";\r\n            }\r\n        },\r\n        showSuccess(message){\r\n            this.success =  message;\r\n            setTimeout(()=>{this.success = null},8000);\r\n        },\r\n        checkFields(){\r\n            if(this.user.username != '' && this.user.email != ''){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=007554f2&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}